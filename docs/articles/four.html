<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Summaries • ScatMatch</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Summaries">
<meta property="og:description" content="ScatMatch">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ScatMatch</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dbca-wa/ScatMatch/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="four_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Summaries</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbca-wa/ScatMatch/blob/master/vignettes/four.Rmd"><code>vignettes/four.Rmd</code></a></small>
      <div class="hidden name"><code>four.Rmd</code></div>

    </div>

    
    
<p><img src="plots/scatmatch_logo.png"></p>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>Now that groups have been assigned to the samples, the data can be summarised in various ways:</p>
<ol style="list-style-type: decimal">
<li><p>Exported to “structure” format to make it useful for other software types</p></li>
<li>
<p>Linked to metadata and summarised into various tables:</p>
<ul>
<li>count of scats by individual, per site, per month</li>
<li>capture history per individual</li>
<li>site history</li>
</ul>
</li>
<li><p>Sites and individuals are displayed in an interactive leaflet map</p></li>
</ol>
<p>As mentioned in the <em>Getting started</em> article, you need to have saved a copy of your metadata csv to the <code>source</code> folder. Without this only item one above can be generated.</p>
</div>
<div id="structure-format" class="section level2">
<h2 class="hasAnchor">
<a href="#structure-format" class="anchor"></a>Structure format</h2>
<p>The following code exports the group majorities data to csv in structure format.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># export to structure format</span>
<span class="fu"><a href="../reference/structure_format.html">structure_format</a></span><span class="op">(</span>majorities_csv <span class="op">=</span> <span class="st">"hclust_numerical_mismatch_h4_group_majorities_and_ties.csv"</span><span class="op">)</span></code></pre></div>
</div>
<div id="summary-tables" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-tables" class="anchor"></a>Summary tables</h2>
<p>Metadata comes in all types of formats and this largely depends on who collects<br>
the data and what it is collected with. For the summary tables function to work, there are two things that the user needs to ensure:</p>
<ol style="list-style-type: decimal">
<li><p>That the data is in a wide format with each sample represented by one row of data.</p></li>
<li>
<p>That the following information is supplied in columns:</p>
<ul>
<li>sample</li>
<li>site ID</li>
<li>field date of collection</li>
<li>latitude (WGS84)</li>
<li>longitude (WGS84)</li>
</ul>
</li>
</ol>
<p>The data should look something like the example shown here.</p>
<p><img src="plots/meta.png"></p>
<p>The information as specified in item 2 above could be named in many different ways<br>
so the user is required provide the column names that align with the parameters. The example below demostrates the parameters used for the metadata as displayed above.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># produce capture history summary tables</span>
<span class="fu"><a href="../reference/summary_tables.html">summary_tables</a></span><span class="op">(</span>groups_csv <span class="op">=</span> <span class="st">"hclust_numerical_mismatch_h4_withGroups.csv"</span>, 
               metadata <span class="op">=</span> <span class="st">"lookup.csv"</span>, 
               prefix <span class="op">=</span> <span class="st">"ID_"</span>, 
               sample <span class="op">=</span> <span class="st">"sample"</span>, 
               site_ID <span class="op">=</span> <span class="st">"roost_name"</span>, 
               field_date <span class="op">=</span> <span class="st">"collection_date"</span>, 
               lat <span class="op">=</span> <span class="st">"dec_lat"</span>, 
               long <span class="op">=</span> <span class="st">"dec_long"</span><span class="op">)</span></code></pre></div>
<p>The other parameters include the groups csv, the name of the metadata csv and the prefix. The prefix relates to the prefix that is placed in front of the sample name that appears in the groups csv. The user needs to provide this so that when stripped off it will match the sample names in the metadata csv. It should include any underscores or hashes etc. If there is no prefix that needs to be accounted for, empty quotes e.g. "" should be used.</p>
</div>
<div id="a-leaflet-map" class="section level2">
<h2 class="hasAnchor">
<a href="#a-leaflet-map" class="anchor"></a>A leaflet map</h2>
<p>Lastly create a leaflet map. The software that handles the mapping requires all coordinates to be in WGS84. This is the usual default output of most GPS systems. If the map fails or produces unexpected results then this could be the issue. Whoever captured or provided the data should know the coordinate reference system used when logging the data.</p>
<p>The function for the map uses the same parameters as for the summary tables.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># make an interactive map</span>
<span class="fu"><a href="../reference/leaflet_map.html">leaflet_map</a></span><span class="op">(</span>groups_csv <span class="op">=</span> <span class="st">"hclust_numerical_mismatch_h4_withGroups.csv"</span>, 
               metadata <span class="op">=</span> <span class="st">"lookup.csv"</span>, 
               prefix <span class="op">=</span> <span class="st">"ID_"</span>, 
               sample <span class="op">=</span> <span class="st">"sample"</span>, 
               site_ID <span class="op">=</span> <span class="st">"roost_name"</span>, 
               field_date <span class="op">=</span> <span class="st">"collection_date"</span>, 
               lat <span class="op">=</span> <span class="st">"dec_lat"</span>, 
               long <span class="op">=</span> <span class="st">"dec_long"</span><span class="op">)</span></code></pre></div>
<p>The output is shareable, will open in any browser and has a few features apart from being able to pan and zoom.</p>
<p><img src="plots/map.png"></p>
<ul>
<li><p>Red arrow - toggle off and on layers (sites, individuals)</p></li>
<li><p>Green arrow - distance and area widget can be used for calculations</p></li>
<li><p>Blue arrow - zoomed out location map</p></li>
<li><p>Yellow arrows - show sites or locations depending on which layer you are showing. Blue marker is a single entity. Green circle with number indicates multiple records at this location. Zooming in on a green circle will expand the site or locations so all can be interrogated (mouse over) for information.</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Bart Huntley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
